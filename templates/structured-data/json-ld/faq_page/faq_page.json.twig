{% extends "structured-data/json-ld.json.twig" %}

{% set data = data|default(page.header.structured_data.faq_page) %}
{% block rawjson %}
{
  "@context": "https://schema.org",
  "@type": "FAQPage",

  {% if data.name %}
    "name": "{{ data.name|escape('js') }}",
  {% endif %}

  "mainEntity": [
    {% for entry in data.entries %}
      {
        "@type": "Question",
        "name": "{{ entry.question|escape('js') }}",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "{{ entry.answer|markdown|escape('js') }}"
        }
      }
      {% if not loop.last %},{% endif %}
    {% endfor %}
  ]
}
{% endblock %}
